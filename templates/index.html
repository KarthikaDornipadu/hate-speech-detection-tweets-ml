<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="icon" href="https://cdn.onlinewebfonts.com/svg/img_156416.png" type="image/x-icon">
</head>
<body style="background-color:rgb(219, 243, 243);">

<!-- Navigation Bar -->
<nav style="position: fixed; width: 100%;" class="navbar navbar-expand-lg navbar-dark bg-dark">
  <h5 class="navbar-brand" style="font-size: 25px;margin-left: 180px;color:rgb(59, 207, 252);padding: 10px;">
    Detecting Hate Speech in Tweets with Advanced Machine Learning Techniques
  </h5>
</nav>

<br><br><br><br><br><br>

<div class="container">
  <form action="{{ url_for('predict') }}" method="post" style="margin-left: 10%; border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); width: 1000px; height: 400px;">
    <label style="margin-left: 10%; margin-right: 15%; margin-bottom: 1%; margin-top: 2%; color: white;" for="percent">
      <h4 class="h4">Enter your text for Hate Speech Detection in English</h4>
    </label><br>

    <div style="margin-left: 20%;">
      <textarea class="form-control" style="margin-left:-10%; width:630px; height:220px; box-shadow:0 4px 8px rgba(16, 15, 15, 0.2);" 
        name="text" id="percent" placeholder="Enter your text here ..." required>{{ ip }}</textarea>
      <br>
    </div>

    <h4 class="h4" id="op" style="margin-left:20%;">{{ prediction_text }}</h4>

    <button class="btn btn-primary" style="margin-left: 12%; width: 18%; background-color: rgb(5, 5, 171)"
      onmouseover="this.style.backgroundColor='navy'" 
      onmouseout="this.style.backgroundColor='rgb(5,5,171)'; this.style.fontWeight='bold'" 
      type="submit">Analyze Text</button>
  </form>

  <br><br><br>
</div>

<script>
window.onload = function () {
  let val = "{{ prediction_text }}";

  if (val === "Offensive Speech" || val === "Hate Speech") {
    document.getElementById("op").style.color = "red";
    document.getElementById("op").style.marginLeft = "12%";
  } else if (val) {
    document.getElementById("op").style.color = "rgb(17, 190, 5)";
    document.getElementById("op").style.marginLeft = "12%";
  }

  setTimeout(() => {
    const target = document.getElementById("percent");
    if (target) {
      target.scrollIntoView({ behavior: 'smooth' });
    }
  }, 1500);

  window.clk = function () {
    document.getElementById("op").innerHTML = " ";
  };
};
</script>

<style>
p {
  margin-left: 15%;
  margin-right: 15%;
  font-family: Arial, Helvetica, sans-serif;
  font-size: large;
}

#percent {
  background-color: antiquewhite;
}

textarea {
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
}

.active {
  background-color: #04AA6D;
}

.btn btn-primary:hover {
  background-color: antiquewhite;
}

.container {
  background: linear-gradient(rgba(71, 71, 71, 0.7), rgba(71, 71, 71, 0.7)), 
              url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  color: var(--light);
  border-radius: 10px;
  margin-top: -65px;
  width: 900px;
  min-height: 80vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
</style>

</body>
</html>
